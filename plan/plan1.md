# 🎮 丛林大乱斗: Auto Chess —— 游戏策划案

## 背景
在《丛林大乱斗》的世界里，神秘的诅咒降临，所有卡牌从最高等级退化为最初始的脆弱形态，散落在丛林地图中。身为召唤师的你，将踏上这片土地，通过探索随机事件、迎接策略挑战，并在沿途商店中收集这些退化的卡牌，重新培养它们进化升级，组建属于你的丛林战队，揭开诅咒背后的真相。

## 游戏机制
在《丛林大乱斗》中，玩家的冒险发生在一个有向无环图（DAG） 构成的丛林地图上。为了简化初版体验，用一个长度为10的固定有向链作为核心地图结构。
### 开局
游戏开始时，玩家将随机获得一张1级单位卡牌作为初始队伍。
### 地图移动与节点事件
*   玩家从地图起点出发，每一步可以从当前节点连接的数个**出度（路径）中选择一条**前进。
*   在这条长度为10的链条上，节点事件主要分为 **“战斗”** 和 **“商店”**，这里第2，5，8个节点是商店。
### 战斗
*   进入战斗节点后，玩家将使用自己收集培养的卡牌队伍与敌人进行自动对战。
*   每打败一个敌方单位获得少量金币便于后续商店购买。
### 商店
*   可以购买新卡添进自己背包里面，也可以购买已有的卡牌，让背包里的卡进行融合升级。
*   升级效果：自身血量回复50%（最高的），并且升到2级。
*   第一次购买花费初始金币，设为$a$，第二次$a+2$，第三次$2a+2$.



## 卡牌属性

| 属性名称 | 英文标识 | 示例值 | 描述 |
|-----------|-----------|---------|------|
| 生命值   | `hp` | 1000 | 单位最大生命值 |
| 伤害     | `damage` | 120 | 单次攻击造成的基础伤害 |
| 攻击类型 | `attack_type` | `melee` / `ranged` | 决定是近战还是远程攻击 |
| 攻击范围 | `attack_range` | 1 | 可攻击的格子距离（近战固定为1） |
| 速度     | `speed` | 中等 | 决定棋子在战斗中的移动频率 |
| 特殊技能 | `skill` | `"烈焰斩击"` | 单位的主动或被动技能 |

## 卡牌系统
### 基本类型
近战基础卡，远程基础卡，远程大AOE，肉盾，亡语，叠羊刀，眩晕机制

| 名称       | 费用 | 生命值 | 攻击力 | 攻击距离 | 攻击范围       | 速度 | 技能描述
|------------|------|--------|--------|----------|----------------|------|----------------------------------------------
| 近战基础卡1  | 2    | 1260   | 40     | 1        | 单体           | 中等 | None                                             |
| 近战基础卡2  | 2    | 880   | 90     | 1        | 单体           | 中等 | None                                             |
| 守卫  | 3    | 1000   | 70     | 1        | 单体           | 中等 | 战斗开始时，守卫相邻的单位会获得一个自身生命值25%的护盾（2级 50%，3级100%）                                             |
| 远程基础卡1  | 2    | 504    | 88     | 4        | 单体           | 中等 | None                                             |
| 远程基础卡2  | 2    | 378    | 114     | 3        | 单体           | 中等 | None                                             |
| 给标记  | 4    | 600    | 120     | 4       | 单体           | 中等 | 没攻击两次，给一个敌方单位加标记，持续2回合，再次期间他收到的伤害增加50%,(2级 80%，3级120%)                                             |
| 击退（针对大型单位）  | 3    | 970    | 59     | 3        | 单体           | 中等 | 每攻击3次就能击退3个敌人（2级：攻击两下击退4个，3级：攻击两下击退6个）                                             |
| 远程大AOE  | 4    | 800    | 64     | 3        | 对应格子距离≤2 | 中等 |None                                              |
| 索后排     | 4    | 1175   | 85     | 1        | 单体           | 中等 | 每攻击三下会向距离自己最远的敌人发射一枚火箭（2级：攻击两下会向最远的2个敌人发射，3级：攻击一下向最远4个敌人发射火箭） |
| 吸收效果  | 4    | 1200    | 50     | 1        | 单体 | 中等 |场上每死亡一个单位（不管敌方还是我方），增加25%原有最大生命值与攻击力（超出上限） （2级 50%，3级100%）                                             |
| 肉盾       | 3    | 2190   | 30     | 1        | 单体           | 慢   | None                                             |
| 亡语       | 3    | 1120   | 35     | 1        | 单体           | 慢   | 死亡后掉落炸弹（伤害为自身生命值一半），下一回合爆炸，范围当前格及相邻格，造成1回合眩晕（2级：半径为2，3级：半径为4） |
| 建筑       | 4    | 1600   | 35     | 5        | 单体           | 无（不动）   |  |
| 溅射       | 3    | 780   | 50     | 4        | 目标及其后方的一个扇形区域           | 快   | 攻击的溅射范围就是他技能 |
| 叠羊刀       | 4    | 670   | 25     | 4        | 单体           | 中等   | 没有移动情况下，每一次攻击伤害是上一次的1.5倍（2级：1.8倍，3级：2.5倍） |

### 升级倍率
* 对于无技能单位，每升一级，生命值$\times 2$, 攻击力$\times 1.6$(再四舍五入).
* 对于有技能单位，每升一级，生命值$\times 1.9$（再四舍五入）, 攻击力$\times 1.4$(再四舍五入).

## 事件（接入LLM部分）
部分战斗过程开始前会根据你的描述生成一个随机事件，例如
1. 本场战斗每击败敌人后获得的金币+50%。
2. 敌方最后一个单位攻击力+100%，但击败它获得的金币翻倍。
3. 将随机一个单位在本局中暂时变成最高等级。
4. 我方生命值最高的单位在战斗前3回合获得护盾，减少50%伤害。
5. 我方所有单位攻击力+40%，但每次攻击损失5%最大生命值。
6. 一个随机敌方单位被标记，击杀它使我方全体攻击力+50%，持续3回合。
7. 所有单位技能所需的触发攻击次数-1。

**想法**：可以做一个NPC在国王旁边，根据你的反馈给你生成一些事件，（有好有坏），如果你嘲讽前面太容易完全没压力，他会给你一些恶劣事件，但也会有更高的奖励。














